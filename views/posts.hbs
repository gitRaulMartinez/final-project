<table>
  <thead>
  </thead>
  <tbody>
    <!--
    {{#each posts}}
    <tr>
      <td>{{this.title}}</td>
      <td>{{this.body}}</td>
      <td class="w-25">
        <a href="/posts/{{this.slug}}" class="btn btn-primary mx-1">Ver</a>
        <a href="/posts/edit/{{this._id}}" class="btn btn-warning mx-1">Editar</a>
        <form action="/posts/{{this._id}}?_method=DELETE" method="POST">
          <button class="btn btn-danger mx-1">Borrar</button>
        </form> 
      </td>
    </tr>
    {{/each}}
    -->
  </tbody>
</table>
<div>
    <div 
        class="
            rounded mx-auto py-1 max-w-xl border-transparent m-3
            flex justify-between items-end flex-wrap
        "
    >
        <div>
            <a
                href="/posts" 
                class="
                    bg-gray-600 py-1 px-3 font-medium
                    text-slate-100 rounded-full
                    hover:bg-gray-600 cursor-pointer mr-2 text-center
                "
            >
                Todos
            </a>
            <a
                href="/posts/my-posts"
                class="
                    bg-gray-400 py-1 px-3 font-medium
                    text-slate-100 rounded-full
                    hover:bg-gray-600 cursor-pointer text-center
                "
            >
                Mis posts
            </a>
        </div>
        <div class="mt-1">
            <form action=""></form>
            <a
                href="/posts/new"
                class="
                    flex justify-between items-center text-slate-100 text-sm rounded-full 
                     bg-slate-800 py-1 px-3 font-medium
                    hover:bg-slate-900
                    focus:ring-2 focus:ring-offset-2 focus:ring-slate-900
                "
            >
                <p>Nuevo post</p>
                <i class="fa-solid fa-plus ml-3 text-sm"></i>
            </a>
        </div>
    </div>
    <div>
        {{#each posts}}
            <div 
                class="
                    bg-white mx-auto ring-1 ring-black ring-opacity-5 shadow-md rounded-md p-3 max-w-xl border-transparent m-3
                        hover:bg-slate-100 cursor-pointer
                "
            >
                <div class="flex justify-between items-end">
                    <div class="text-md font-bold min-w-md overflow-hidden mr-2 truncate">
                        <strong class="text-slate-700">{{this.title}}</strong>
                    </div>
                    <div class="flex justify-end flex-none">
                        <div class="mr-2">
                            <p class="text-sm font-bold text-slate-700 text-end">
                                {{#if this.user.me}}
                                    (Yo)
                                {{/if}}{{this.user.name}}
                            </p>
                            <p class="text-sm text-slate-500 text-end">
                                {{this.user.last}}
                            </p>
                        </div>
                        <div class="flex-none">
                            {{#if this.user.urlCat}}
                                <img src="{{this.user.url}}" alt="Imagen de perfil" class="bg-white h-10 w-10 rounded-full shadow-md overflow-hidden">
                            {{else}}
                                <img src="/images/profile/{{this.user.url}}" alt="Imagen de perfil" class="bg-white h-10 w-10 rounded-full shadow-md overflow-hidden">
                            {{/if}}
                        </div>
                    </div>
                </div>
                <div class="max-h-96 mt-1">
                    <p class="text-sm text-slate-600">
                        {{this.body}}
                    </p>
                </div>
                <div class="flex justify-between items-center">
                    <div> </div>
                    <div>
                        <a
                            href="/posts/{{this.slug}}"
                            class="
                                flex justify-between items-center text-slate-100 text-sm rounded-full 
                                bg-blue-600 py-1 px-3 font-medium
                                hover:bg-blue-700
                                focus:ring-2 focus:ring-offset-2 focus:ring-blue-700
                            "
                        >
                            Ver post
                        </a>
                    </div>
                </div>
            </div>
        {{/each}}
    </div>
</div>
